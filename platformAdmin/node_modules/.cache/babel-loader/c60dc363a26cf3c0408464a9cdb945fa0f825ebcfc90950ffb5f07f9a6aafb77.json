{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\edwin\\\\Downloads\\\\archive\\\\CHENATIONS DOCUMENTS\\\\Wellsfargo\\\\Wopital\\\\platformAdmin\\\\src\\\\components\\\\SubscriptionManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { CreditCard, Building2, DollarSign, Calendar, AlertTriangle, CheckCircle, XCircle, Plus, Edit, Trash2, Eye } from 'lucide-react';\nimport { supabase } from '../lib/supabase';\nimport StripeService from '../services/stripe';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SubscriptionManagement() {\n  _s();\n  var _selectedSubscription, _selectedSubscription2;\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [hospitals, setHospitals] = useState([]);\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedSubscription, setSelectedSubscription] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modalType, setModalType] = useState('create'); // 'create', 'edit', 'view'\n  const [formData, setFormData] = useState({\n    hospitalId: '',\n    planId: '',\n    customerEmail: '',\n    amount: 0\n  });\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [subscriptionsData, hospitalsData, plansData] = await Promise.all([supabase.from('hospital_subscriptions').select(`\n          *,\n          hospitals(name, email, location),\n          subscription_plans(name, price, features)\n        `), supabase.from('hospitals').select('*'), supabase.from('subscription_plans').select('*')]);\n      setSubscriptions(subscriptionsData.data || []);\n      setHospitals(hospitalsData.data || []);\n      setPlans(plansData.data || []);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCreateSubscription = async e => {\n    e.preventDefault();\n    try {\n      const hospital = hospitals.find(h => h.id === formData.hospitalId);\n      const plan = plans.find(p => p.id === formData.planId);\n      const result = await StripeService.createSubscription(formData.hospitalId, plan.stripe_price_id, hospital.email);\n      if (result.success) {\n        setShowModal(false);\n        setFormData({\n          hospitalId: '',\n          planId: '',\n          customerEmail: '',\n          amount: 0\n        });\n        loadData();\n        alert('Subscription created successfully!');\n      } else {\n        alert(`Error: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error creating subscription:', error);\n      alert('Failed to create subscription');\n    }\n  };\n  const handleCancelSubscription = async subscriptionId => {\n    if (!confirm('Are you sure you want to cancel this subscription?')) return;\n    try {\n      const result = await StripeService.cancelSubscription(subscriptionId);\n      if (result.success) {\n        loadData();\n        alert('Subscription cancelled successfully!');\n      } else {\n        alert(`Error: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error cancelling subscription:', error);\n      alert('Failed to cancel subscription');\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'active':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'past_due':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'unpaid':\n        return 'bg-orange-100 text-orange-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Subscription Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Manage hospital subscriptions and billing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setModalType('create');\n          setShowModal(true);\n        },\n        className: \"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), \"New Subscription\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n            className: \"h-8 w-8 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Active Subscriptions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: subscriptions.filter(s => s.status === 'active').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"h-8 w-8 text-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Monthly Revenue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: formatCurrency(subscriptions.reduce((sum, s) => sum + (s.amount || 0), 0))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-8 w-8 text-yellow-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Expiring Soon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: subscriptions.filter(s => {\n                const expiryDate = new Date(s.current_period_end);\n                const thirtyDaysFromNow = new Date();\n                thirtyDaysFromNow.setDate(thirtyDaysFromNow.getDate() + 30);\n                return expiryDate <= thirtyDaysFromNow && s.status === 'active';\n              }).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Building2, {\n            className: \"h-8 w-8 text-purple-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Total Hospitals\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: hospitals.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"All Subscriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Hospital\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Next Billing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: subscriptions.map(subscription => {\n              var _subscription$hospita, _subscription$hospita2, _subscription$subscri;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: (_subscription$hospita = subscription.hospitals) === null || _subscription$hospita === void 0 ? void 0 : _subscription$hospita.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: (_subscription$hospita2 = subscription.hospitals) === null || _subscription$hospita2 === void 0 ? void 0 : _subscription$hospita2.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-900\",\n                    children: (_subscription$subscri = subscription.subscription_plans) === null || _subscription$subscri === void 0 ? void 0 : _subscription$subscri.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(subscription.status)}`,\n                    children: subscription.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: formatCurrency(subscription.amount || 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: formatDate(subscription.current_period_end)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setSelectedSubscription(subscription);\n                        setModalType('view');\n                        setShowModal(true);\n                      },\n                      className: \"text-blue-600 hover:text-blue-900\",\n                      children: /*#__PURE__*/_jsxDEV(Eye, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setSelectedSubscription(subscription);\n                        setModalType('edit');\n                        setShowModal(true);\n                      },\n                      className: \"text-green-600 hover:text-green-900\",\n                      children: /*#__PURE__*/_jsxDEV(Edit, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 23\n                    }, this), subscription.status === 'active' && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleCancelSubscription(subscription.stripe_subscription_id),\n                      className: \"text-red-600 hover:text-red-900\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 19\n                }, this)]\n              }, subscription.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-4\",\n            children: [modalType === 'create' && 'Create New Subscription', modalType === 'edit' && 'Edit Subscription', modalType === 'view' && 'Subscription Details']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), modalType === 'view' && selectedSubscription ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Hospital\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: (_selectedSubscription = selectedSubscription.hospitals) === null || _selectedSubscription === void 0 ? void 0 : _selectedSubscription.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: (_selectedSubscription2 = selectedSubscription.subscription_plans) === null || _selectedSubscription2 === void 0 ? void 0 : _selectedSubscription2.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(selectedSubscription.status)}`,\n                children: selectedSubscription.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: formatCurrency(selectedSubscription.amount || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Next Billing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: formatDate(selectedSubscription.current_period_end)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCreateSubscription,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Hospital\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.hospitalId,\n                onChange: e => setFormData({\n                  ...formData,\n                  hospitalId: e.target.value\n                }),\n                className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Hospital\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 23\n                }, this), hospitals.map(hospital => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: hospital.id,\n                  children: hospital.name\n                }, hospital.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.planId,\n                onChange: e => {\n                  const plan = plans.find(p => p.id === e.target.value);\n                  setFormData({\n                    ...formData,\n                    planId: e.target.value,\n                    amount: plan ? plan.price : 0\n                  });\n                },\n                className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 23\n                }, this), plans.map(plan => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: plan.id,\n                  children: [plan.name, \" - \", formatCurrency(plan.price)]\n                }, plan.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: formData.amount,\n                onChange: e => setFormData({\n                  ...formData,\n                  amount: parseFloat(e.target.value)\n                }),\n                className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowModal(false),\n              className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), modalType !== 'view' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCreateSubscription,\n              className: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\",\n              children: modalType === 'create' ? 'Create' : 'Update'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s(SubscriptionManagement, \"u4fQoe3eMpmxSk3+YLJ8Q0a/CBk=\");\n_c = SubscriptionManagement;\nvar _c;\n$RefreshReg$(_c, \"SubscriptionManagement\");","map":{"version":3,"names":["React","useState","useEffect","CreditCard","Building2","DollarSign","Calendar","AlertTriangle","CheckCircle","XCircle","Plus","Edit","Trash2","Eye","supabase","StripeService","jsxDEV","_jsxDEV","SubscriptionManagement","_s","_selectedSubscription","_selectedSubscription2","subscriptions","setSubscriptions","hospitals","setHospitals","plans","setPlans","loading","setLoading","selectedSubscription","setSelectedSubscription","showModal","setShowModal","modalType","setModalType","formData","setFormData","hospitalId","planId","customerEmail","amount","loadData","subscriptionsData","hospitalsData","plansData","Promise","all","from","select","data","error","console","handleCreateSubscription","e","preventDefault","hospital","find","h","id","plan","p","result","createSubscription","stripe_price_id","email","success","alert","handleCancelSubscription","subscriptionId","confirm","cancelSubscription","getStatusColor","status","formatDate","dateString","Date","toLocaleDateString","formatCurrency","Intl","NumberFormat","style","currency","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","filter","s","length","reduce","sum","expiryDate","current_period_end","thirtyDaysFromNow","setDate","getDate","map","subscription","_subscription$hospita","_subscription$hospita2","_subscription$subscri","name","subscription_plans","stripe_subscription_id","onSubmit","value","onChange","target","required","price","type","parseFloat","_c","$RefreshReg$"],"sources":["C:/Users/edwin/Downloads/archive/CHENATIONS DOCUMENTS/Wellsfargo/Wopital/platformAdmin/src/components/SubscriptionManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  CreditCard, \n  Building2, \n  DollarSign, \n  Calendar, \n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  Plus,\n  Edit,\n  Trash2,\n  Eye\n} from 'lucide-react';\nimport { supabase } from '../lib/supabase';\nimport StripeService from '../services/stripe';\n\nexport default function SubscriptionManagement() {\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [hospitals, setHospitals] = useState([]);\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedSubscription, setSelectedSubscription] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modalType, setModalType] = useState('create'); // 'create', 'edit', 'view'\n  const [formData, setFormData] = useState({\n    hospitalId: '',\n    planId: '',\n    customerEmail: '',\n    amount: 0\n  });\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      \n      const [subscriptionsData, hospitalsData, plansData] = await Promise.all([\n        supabase.from('hospital_subscriptions').select(`\n          *,\n          hospitals(name, email, location),\n          subscription_plans(name, price, features)\n        `),\n        supabase.from('hospitals').select('*'),\n        supabase.from('subscription_plans').select('*')\n      ]);\n\n      setSubscriptions(subscriptionsData.data || []);\n      setHospitals(hospitalsData.data || []);\n      setPlans(plansData.data || []);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateSubscription = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const hospital = hospitals.find(h => h.id === formData.hospitalId);\n      const plan = plans.find(p => p.id === formData.planId);\n      \n      const result = await StripeService.createSubscription(\n        formData.hospitalId,\n        plan.stripe_price_id,\n        hospital.email\n      );\n\n      if (result.success) {\n        setShowModal(false);\n        setFormData({ hospitalId: '', planId: '', customerEmail: '', amount: 0 });\n        loadData();\n        alert('Subscription created successfully!');\n      } else {\n        alert(`Error: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error creating subscription:', error);\n      alert('Failed to create subscription');\n    }\n  };\n\n  const handleCancelSubscription = async (subscriptionId) => {\n    if (!confirm('Are you sure you want to cancel this subscription?')) return;\n\n    try {\n      const result = await StripeService.cancelSubscription(subscriptionId);\n      \n      if (result.success) {\n        loadData();\n        alert('Subscription cancelled successfully!');\n      } else {\n        alert(`Error: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error cancelling subscription:', error);\n      alert('Failed to cancel subscription');\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'active': return 'bg-green-100 text-green-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      case 'past_due': return 'bg-yellow-100 text-yellow-800';\n      case 'unpaid': return 'bg-orange-100 text-orange-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Subscription Management</h1>\n          <p className=\"text-gray-600\">Manage hospital subscriptions and billing</p>\n        </div>\n        <button\n          onClick={() => {\n            setModalType('create');\n            setShowModal(true);\n          }}\n          className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          <Plus className=\"h-4 w-4 mr-2\" />\n          New Subscription\n        </button>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <CreditCard className=\"h-8 w-8 text-blue-500\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Active Subscriptions</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {subscriptions.filter(s => s.status === 'active').length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <DollarSign className=\"h-8 w-8 text-green-500\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Monthly Revenue</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {formatCurrency(subscriptions.reduce((sum, s) => sum + (s.amount || 0), 0))}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <AlertTriangle className=\"h-8 w-8 text-yellow-500\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Expiring Soon</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {subscriptions.filter(s => {\n                  const expiryDate = new Date(s.current_period_end);\n                  const thirtyDaysFromNow = new Date();\n                  thirtyDaysFromNow.setDate(thirtyDaysFromNow.getDate() + 30);\n                  return expiryDate <= thirtyDaysFromNow && s.status === 'active';\n                }).length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <Building2 className=\"h-8 w-8 text-purple-500\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Hospitals</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{hospitals.length}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Subscriptions Table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">All Subscriptions</h3>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Hospital\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Plan\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Amount\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Next Billing\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {subscriptions.map((subscription) => (\n                <tr key={subscription.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {subscription.hospitals?.name}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {subscription.hospitals?.email}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">\n                      {subscription.subscription_plans?.name}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(subscription.status)}`}>\n                      {subscription.status}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {formatCurrency(subscription.amount || 0)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {formatDate(subscription.current_period_end)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => {\n                          setSelectedSubscription(subscription);\n                          setModalType('view');\n                          setShowModal(true);\n                        }}\n                        className=\"text-blue-600 hover:text-blue-900\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => {\n                          setSelectedSubscription(subscription);\n                          setModalType('edit');\n                          setShowModal(true);\n                        }}\n                        className=\"text-green-600 hover:text-green-900\"\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      {subscription.status === 'active' && (\n                        <button\n                          onClick={() => handleCancelSubscription(subscription.stripe_subscription_id)}\n                          className=\"text-red-600 hover:text-red-900\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {modalType === 'create' && 'Create New Subscription'}\n                {modalType === 'edit' && 'Edit Subscription'}\n                {modalType === 'view' && 'Subscription Details'}\n              </h3>\n              \n              {modalType === 'view' && selectedSubscription ? (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Hospital</label>\n                    <p className=\"text-sm text-gray-900\">{selectedSubscription.hospitals?.name}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Plan</label>\n                    <p className=\"text-sm text-gray-900\">{selectedSubscription.subscription_plans?.name}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Status</label>\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(selectedSubscription.status)}`}>\n                      {selectedSubscription.status}\n                    </span>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Amount</label>\n                    <p className=\"text-sm text-gray-900\">{formatCurrency(selectedSubscription.amount || 0)}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Next Billing</label>\n                    <p className=\"text-sm text-gray-900\">{formatDate(selectedSubscription.current_period_end)}</p>\n                  </div>\n                </div>\n              ) : (\n                <form onSubmit={handleCreateSubscription} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Hospital</label>\n                    <select\n                      value={formData.hospitalId}\n                      onChange={(e) => setFormData({ ...formData, hospitalId: e.target.value })}\n                      className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                    >\n                      <option value=\"\">Select Hospital</option>\n                      {hospitals.map((hospital) => (\n                        <option key={hospital.id} value={hospital.id}>\n                          {hospital.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Plan</label>\n                    <select\n                      value={formData.planId}\n                      onChange={(e) => {\n                        const plan = plans.find(p => p.id === e.target.value);\n                        setFormData({ \n                          ...formData, \n                          planId: e.target.value,\n                          amount: plan ? plan.price : 0\n                        });\n                      }}\n                      className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                    >\n                      <option value=\"\">Select Plan</option>\n                      {plans.map((plan) => (\n                        <option key={plan.id} value={plan.id}>\n                          {plan.name} - {formatCurrency(plan.price)}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Amount</label>\n                    <input\n                      type=\"number\"\n                      value={formData.amount}\n                      onChange={(e) => setFormData({ ...formData, amount: parseFloat(e.target.value) })}\n                      className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                    />\n                  </div>\n                </form>\n              )}\n              \n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\n                >\n                  Cancel\n                </button>\n                {modalType !== 'view' && (\n                  <button\n                    onClick={handleCreateSubscription}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n                  >\n                    {modalType === 'create' ? 'Create' : 'Update'}\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}